<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".DetailBookFragment">

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/background">

        <!-- Header dengan gambar background dan overlay gradien -->
        <FrameLayout
            android:id="@+id/header_container"
            android:layout_width="match_parent"
            android:layout_height="match_parent">

            <ImageView
                android:id="@+id/header_bg"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:scaleType="centerCrop"
                android:src="@drawable/iv_header"
                android:alpha="0.4" />

            <View
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:background="@drawable/gradient_overlay" />
        </FrameLayout>

        <!-- Navbar dengan efek elevasi -->
        <LinearLayout
            android:id="@+id/navbar"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:elevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:gravity="center_vertical"
                android:orientation="horizontal"
                android:paddingVertical="16dp"
                android:paddingHorizontal="12dp">

                <ImageView
                    android:id="@+id/back"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:background="@drawable/circle_button_bg"
                    android:padding="2dp"
                    android:src="@drawable/ic_back" />

                <View
                    android:layout_width="0dp"
                    android:layout_height="0dp"
                    android:layout_weight="1" />

                <View
                    android:layout_width="0dp"
                    android:layout_height="0dp"
                    android:layout_weight="1" />
            </LinearLayout>
        </LinearLayout>

        <ScrollView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_below="@id/navbar"
            android:scrollbars="none"
            android:clipToPadding="false">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:paddingBottom="130dp">

                <!-- Book Cover and Details Area -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:gravity="center_horizontal"
                    android:paddingHorizontal="16dp">

                    <!-- Book Cover with shadow -->
                    <com.google.android.material.card.MaterialCardView
                        android:layout_width="180dp"
                        android:layout_height="250dp"
                        android:layout_marginTop="30dp"
                        app:cardCornerRadius="12dp"
                        app:cardElevation="8dp"
                        app:strokeColor="@color/abu"
                        app:strokeWidth="0.5dp">

                        <ImageView
                            android:id="@+id/cover"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:scaleType="centerCrop"
                            android:src="@drawable/iv_header" />
                    </com.google.android.material.card.MaterialCardView>

                    <!-- Book Title and Author -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="center_vertical"
                        android:orientation="horizontal"
                        android:layout_marginTop="16dp">

                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical">

                            <TextView
                                android:id="@+id/judul"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:text="Judul Buku"
                                android:textColor="@color/white"
                                android:textSize="24sp"
                                android:textStyle="bold"
                                android:fontFamily="sans-serif-medium" />

                            <TextView
                                android:id="@+id/penulis"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:text="Penulis Buku"
                                android:textColor="@color/penulis"
                                android:textSize="16sp"
                                android:layout_marginTop="4dp" />
                        </LinearLayout>

                        <com.google.android.material.card.MaterialCardView
                            android:layout_width="42dp"
                            android:layout_height="42dp"
                            app:cardCornerRadius="21dp"
                            app:cardElevation="4dp"
                            app:cardBackgroundColor="@android:color/transparent"
                            app:strokeColor="@color/abu"
                            app:strokeWidth="1dp">

                            <ImageView
                                android:id="@+id/favorites"
                                android:layout_width="24dp"
                                android:layout_height="24dp"
                                android:layout_gravity="center"
                                android:src="@drawable/ic_favorite_off" />
                        </com.google.android.material.card.MaterialCardView>
                    </LinearLayout>

                    <!-- Book Details Cards (Year, Pages, Rating) -->
                    <com.google.android.material.card.MaterialCardView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="24dp"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        app:strokeColor="@color/abu"
                        app:strokeWidth="0.5dp"
                        app:cardBackgroundColor="#1A1A1A">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:padding="8dp">

                            <!-- Released -->
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:background="@drawable/detail_data"
                                android:orientation="vertical"
                                android:padding="12dp"
                                android:gravity="center">

                                <ImageView
                                    android:layout_width="24dp"
                                    android:layout_height="24dp"
                                    android:src="@drawable/books"
                                    android:alpha="0.7"
                                    android:layout_marginBottom="4dp"/>

                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Released"
                                    android:textColor="@color/penulis"
                                    android:textSize="14sp" />

                                <TextView
                                    android:id="@+id/tahun"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Tahun"
                                    android:textColor="@color/white"
                                    android:textSize="18sp"
                                    android:textStyle="bold"
                                    android:layout_marginTop="2dp" />
                            </LinearLayout>

                            <View
                                android:layout_width="1dp"
                                android:layout_height="match_parent"
                                android:background="@color/abu"
                                android:layout_marginHorizontal="8dp"/>

                            <!-- Pages -->
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:background="@drawable/detail_data"
                                android:orientation="vertical"
                                android:padding="12dp"
                                android:gravity="center">

                                <ImageView
                                    android:layout_width="24dp"
                                    android:layout_height="24dp"
                                    android:src="@drawable/books"
                                    android:alpha="0.7"
                                    android:layout_marginBottom="4dp"/>

                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Pages"
                                    android:textColor="@color/penulis"
                                    android:textSize="14sp" />

                                <TextView
                                    android:id="@+id/halaman"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Jumlah"
                                    android:textColor="@color/white"
                                    android:textSize="18sp"
                                    android:textStyle="bold"
                                    android:layout_marginTop="2dp" />
                            </LinearLayout>

                            <View
                                android:layout_width="1dp"
                                android:layout_height="match_parent"
                                android:background="@color/abu"
                                android:layout_marginHorizontal="8dp"/>

                            <!-- Rating -->
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:background="@drawable/detail_data"
                                android:orientation="vertical"
                                android:padding="12dp"
                                android:gravity="center">

                                <ImageView
                                    android:layout_width="24dp"
                                    android:layout_height="24dp"
                                    android:src="@drawable/books"
                                    android:alpha="0.7"
                                    android:layout_marginBottom="4dp"/>

                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Rating"
                                    android:textColor="@color/penulis"
                                    android:textSize="14sp" />

                                <TextView
                                    android:id="@+id/rating"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Rating"
                                    android:textColor="@color/white"
                                    android:textSize="18sp"
                                    android:textStyle="bold"
                                    android:layout_marginTop="2dp" />
                            </LinearLayout>
                        </LinearLayout>
                    </com.google.android.material.card.MaterialCardView>
                </LinearLayout>

                <!-- Description Section -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="24dp"
                    android:layout_marginHorizontal="16dp"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp"
                    app:strokeColor="@color/abu"
                    app:strokeWidth="0.5dp"
                    app:cardBackgroundColor="#1A1A1A">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Description"
                            android:textColor="@color/penulis"
                            android:textSize="20sp"
                            android:textStyle="bold"
                            android:drawableStart="@drawable/books"
                            android:drawablePadding="8dp"/>

                        <View
                            android:layout_width="match_parent"
                            android:layout_height="0.5dp"
                            android:layout_marginTop="12dp"
                            android:layout_marginBottom="12dp"
                            android:background="@color/abu" />

                        <!-- Genre -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:layout_marginBottom="12dp">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Genre:"
                                android:textColor="@color/penulis"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:layout_marginEnd="8dp"/>

                            <TextView
                                android:id="@+id/genre"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:text="Genre"
                                android:textColor="@color/white"
                                android:textSize="16sp" />
                        </LinearLayout>

                        <!-- Blurb -->
                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Blurb"
                            android:textColor="@color/penulis"
                            android:textSize="16sp"
                            android:textStyle="bold" />

                        <TextView
                            android:id="@+id/blurb"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Blurb"
                            android:textColor="@color/white"
                            android:textSize="15sp"
                            android:layout_marginTop="4dp"
                            android:lineSpacingExtra="4dp"/>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>

                <!-- Synopsis Section -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:layout_marginHorizontal="16dp"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp"
                    app:strokeColor="@color/abu"
                    app:strokeWidth="0.5dp"
                    app:cardBackgroundColor="#1A1A1A">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Synopsis"
                            android:textColor="@color/penulis"
                            android:textSize="20sp"
                            android:textStyle="bold"
                            android:drawableStart="@drawable/books"
                            android:drawablePadding="8dp"/>

                        <View
                            android:layout_width="match_parent"
                            android:layout_height="0.5dp"
                            android:layout_marginTop="12dp"
                            android:layout_marginBottom="12dp"
                            android:background="@color/abu" />

                        <TextView
                            android:id="@+id/sinopsis"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Cerita ini mengisahkan kehidupan yang sangat mengenaskan yang begitulah pokoknya, habis itu begini habis itu begitu. ya begitulah heheh ya begitulah begituan, cerita begitu begini hahahhaha freak banget ini cerita."
                            android:textColor="@color/white"
                            android:textSize="15sp"
                            android:lineSpacingExtra="6dp"/>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>

                <!-- Comment Section -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:layout_marginHorizontal="16dp"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp"
                    app:strokeColor="@color/abu"
                    app:strokeWidth="0.5dp"
                    app:cardBackgroundColor="#1A1A1A">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Comment"
                            android:textColor="@color/penulis"
                            android:textSize="20sp"
                            android:textStyle="bold"
                            android:drawableStart="@drawable/emoji"
                            android:drawablePadding="8dp"/>

                        <View
                            android:layout_width="match_parent"
                            android:layout_height="0.5dp"
                            android:layout_marginTop="12dp"
                            android:layout_marginBottom="12dp"
                            android:background="@color/abu" />

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:background="@drawable/linear"
                            android:gravity="center_vertical"
                            android:orientation="horizontal"
                            android:padding="8dp">

                            <com.google.android.material.card.MaterialCardView
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                app:cardCornerRadius="20dp"
                                app:cardBackgroundColor="#232323"
                                app:cardElevation="0dp">

                                <ImageView
                                    android:layout_width="24dp"
                                    android:layout_height="24dp"
                                    android:layout_gravity="center"
                                    android:src="@drawable/ic_emoji" />
                            </com.google.android.material.card.MaterialCardView>

                            <EditText
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:layout_marginHorizontal="12dp"
                                android:background="@drawable/edit_text"
                                android:hint="Write a comment"
                                android:padding="12dp"
                                android:textColorHint="@color/hint" />

                            <com.google.android.material.card.MaterialCardView
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                app:cardCornerRadius="20dp"
                                app:cardBackgroundColor="#232323"
                                app:cardElevation="0dp">

                                <ImageView
                                    android:layout_width="24dp"
                                    android:layout_height="24dp"
                                    android:layout_gravity="center"
                                    android:src="@drawable/ic_sendmessage" />
                            </com.google.android.material.card.MaterialCardView>
                        </LinearLayout>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>
            </LinearLayout>
        </ScrollView>
    </RelativeLayout>

    <!-- Bottom effect and reading button -->
    <ImageView
        android:layout_width="match_parent"
        android:layout_height="130dp"
        android:scaleType="fitXY"
        android:src="@drawable/bottom_effect"
        app:layout_constraintBottom_toBottomOf="parent" />

    <com.google.android.material.button.MaterialButton
        android:layout_width="match_parent"
        android:layout_height="56dp"
        android:layout_marginHorizontal="24dp"
        android:layout_marginBottom="50dp"
        android:text="Start Reading"
        android:textSize="16sp"
        android:textStyle="bold"
        app:cornerRadius="28dp"
        app:elevation="8dp"
        app:icon="@drawable/books"
        app:iconGravity="textStart"
        app:iconPadding="12dp"
        app:iconTint="@color/penulis"
        app:strokeColor="@color/abu"
        app:strokeWidth="1dp"
        app:layout_constraintBottom_toBottomOf="parent" />
</androidx.constraintlayout.widget.ConstraintLayout>